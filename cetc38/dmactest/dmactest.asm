/*******************************************************************************
**                                                                            **
**                     (c) COPYRIGHT 2013 ICDC of ECRIEE.                     **
**                            ALL RIGHTS RESERVED                             **
**                                                                            **
********************************************************************************
**                                                                            **
********************************************************************************
**                              Hello BWDSP Example                           **
*******************************************************************************/
.global __main
.global _entry_point

  .text
__main:
_entry_point:



//Ð´DDR
    U1=0x0a0c0000

    // 15
    U2=0xc             //Ò³ºÅ  RAB_APB_CSR Register£¬APB¿ØÖÆ×´Ì¬¼Ä´æÆ÷  0x20030
    xR2=0x0
    [U2+U1,0]=xR2

    // 16
    U2=0x0218
    xR2=0x00000100    //Ö÷Éè±¸ID¼Ä´æÆ÷ BDIDCRS
    [U2+U1,0]=xR2

    // 48
    U2=0x0c           //Ò³ºÅ
    xR2=0x00410000
    [U2+U1,0]=xR2

    // 49
    U2=0x200
    xR2=0x00990044
    [U2+U1,0]=xR2
  //  xR4=[U2+U1,0]

    // 50
    //U2=0x203
    //xR2=0x00000000
    //[U2+U1,0]=xR2

    // 51
    U2=0x240
    xR2=0x00000001   // Ð´DMA
    [U2+U1,0]=xR2

    // 52
    U2=0x241
    //xR2=0x007fffe3
    xR2=0x00000843
    [U2+U1,0]=xR2

    // 53
    U2=0x242
    xR2=0x01200400
    //xR2=0x80044000  // 0x80110000 is ok
    //xR2=0x80000000
    [U2+U1,0]=xR2

    // 54
    U2=0x243
    xR2=0x80000001
    //xR2=0x10048000
    [U2+U1,0]=xR2

    // 55
    U2=0x244
    xR2=0x00000000
    [U2+U1,0]=xR2

    // 56
    U2=0x200
    xR2=0x00990045
    [U2+U1,0]=xR2

nop
nop
nop

//¶ÁDDR
    U1=0x0a0c0000

        // 15
    U2=0xc             //Ò³ºÅ  RAB_APB_CSR Register£¬APB¿ØÖÆ×´Ì¬¼Ä´æÆ÷  0x20030
    xR2=0x0
    [U2+U1,0]=xR2

    // 16
    U2=0x0218
    xR2=0x00000100    //Ö÷Éè±¸ID¼Ä´æÆ÷ BDIDCRS
    [U2+U1,0]=xR2

    // 48
    U2=0x0c           //Ò³ºÅ
    xR2=0x00410000
    [U2+U1,0]=xR2

    // 49
    U2=0x220
    xR2=0x00990044
    [U2+U1,0]=xR2

    // 50
    //U2=0x203
    //xR2=0x00000000
    //[U2+U1,0]=xR2

    // 51
    U2=0x240
    xR2=0x00000000   //¶ÁDMA
    [U2+U1,0]=xR2

    // 52
    U2=0x241
    //xR2=0x007fffe3
    xR2=0x00000843
    [U2+U1,0]=xR2

    // 53
    U2=0x242
    xR2=0x80000001
    //xR2=0x80044000  // 0x80110000 is ok
    //xR2=0x80000000
    [U2+U1,0]=xR2

    // 54
    U2=0x243
    xR2=0x01200301
    //xR2=0x10048000
    [U2+U1,0]=xR2

    // 55
    U2=0x244
    xR2=0x00000000
    [U2+U1,0]=xR2

    // 56
    U2=0x220
    xR2=0x00990045
    [U2+U1,0]=xR2

nop
nop
nop
